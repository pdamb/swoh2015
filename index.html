<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Open House Demo</title>
  <link rel="stylesheet" href="styles/openhouse.css">
  <script src="bower_components/angular/angular.min.js"></script>
  <script src="app/openhouse.js"></script>
  <script src="app/directives/avatar-directive.js"></script>
</head>
<body ng-app="openhouse">
  <div class="wrapper" ng-controller="TicketsController as vm">
    <h1>TICKET SYSTEM</h1>
      <div class="main">
        <h2>Tickets ({{filtered.length}})</h2>
        <input class="search" type="text" ng-model="q" placeholder="filter">
        <div class="post" ng-repeat="ticket in filtered = (vm.tickets | filter:q )" ng-click="vm.highlight(ticket)" ng-class="{highlighted: vm.selectedTicket === ticket.number}">
          <oh-avatar user="ticket.user"></oh-avatar>
          <h3>{{ ticket.title }}</h3>
          <p>{{ ticket.message }}</p>
        </div>
        <div ng-show="filtered.length == 0">No results. Sorry.</div>
      </div>
      <div class="side" ng-show="vm.selectedUser !== null">
        <h2>User details</h2>
        <div class="profile">
          <oh-avatar user="vm.selectedUser" size="big"></oh-avatar>
          <h3>Ticket history</h3>
          <hr>
          <ul>
            <li ng-repeat="char in vm.selectedUser.displayName track by $index">{{ char | uppercase }}</li>
          </ul>
          <h3>Edit profile</h3>
          <hr>
          <strong>name:</strong><br/>
          <input type="text" ng-model="vm.selectedUser.displayName"><br/>
          <strong>avatar:</strong><br/>
          <input type="text" ng-model="vm.selectedUser.avatarUrl"><br/>
        </div>
      </div>
    </div>
  </div>
</body>
</html>