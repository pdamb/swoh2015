<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Open House Demo</title>
  <link rel="stylesheet" href="styles/openhouse.css">
  <script src="bower_components/angular/angular.min.js"></script>
  <script src="app/openhouse.js"></script>
</head>
<body ng-app="openhouse">
  <div class="wrapper" ng-controller="TicketsController as vm">
    <h1>TICKET SYSTEM</h1>
      <div class="main">
        <h2>Tickets ({{filtered.length}})</h2>
        <input class="search" type="text" ng-model="q" placeholder="filter">
        <div class="post" ng-repeat="ticket in filtered = (vm.tickets | filter:q )" ng-click="vm.highlight(ticket)" ng-class="{highlighted: vm.selectedTicket === ticket.number}">
          <div class="avatar">
            <strong> {{ ticket.user.displayName }} </strong>
            <img ng-src="{{ ticket.user.avatarUrl }}">
          </div>
          <h3>{{ ticket.title }}</h3>
          <p>{{ ticket.message }}</p>
        </div>
        <div ng-show="filtered.length == 0">No results. Sorry.</div>
      </div>
      <div class="side" ng-show="vm.selectedUser !== null">
        <h2>User details</h2>
        <div class="profile">
          <div class="avatar">
            <strong> {{ vm.selectedUser.displayName }} </strong>
            <img ng-src="{{ vm.selectedUser.avatarUrl }}">
          </div>
          <h3>Ticket history</h3>
          <hr>
          <ul>
            <li ng-repeat="char in vm.selectedUser.name track by $index"> - #{{ $index }} {{ char }}_ticket_{{ char | uppercase }}</li>
          </ul>
          <h3>Edit profile</h3>
          <hr>
          <strong>name:</strong><br/>
          <input type="text" ng-model="vm.selectedUser.displayName">
        </div>
      </div>
    </div>
  </div>
</body>
</html>