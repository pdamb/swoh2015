<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Open House Demo</title>
  <link rel="stylesheet" href="styles/reset.css">
  <link rel="stylesheet" href="styles/openhouse.css">
  <script src="bower_components/angular/angular.min.js"></script>
  <script src="app/openhouse.js"></script>
</head>
<body ng-app="openhouse">
  <div class="wrapper" ng-controller="TicketsController as vm">
    <h1>SYSTEM X</h1>
      <div class="main">
        <h2>Current tickets ({{filtered.length}})</h2>
        <input class="search" type="text" ng-model="q" placeholder="filter">
        <div class="post" ng-repeat="item in filtered = (vm.tickets | filter:q )" ng-click="vm.highlight(item)" ng-class="{highlighted: vm.selectedTicket === item.number}">
          <div class="avatar">
            <strong> {{ item.user.displayName }} </strong>
            <img ng-src="{{ item.user.avatarUrl }}">
          </div>
          <h3>{{ item.title }}</h3>  
          <p>{{ item.message }}</p>
        </div>
      </div>
      <div class="side" ng-show="vm.selectedUser !== null">
        <h2>User details</h2>
        <div class="profile">
          <div class="avatar">
            <strong> {{ vm.selectedUser.displayName }} </strong>
            <img ng-src="{{ vm.selectedUser.avatarUrl }}">
          </div>
          <strong>User's ticket history</strong>
          <ul>
            <li ng-repeat="char in vm.selectedUser.name"> - #{{ $index }} {{ char }}_ticket_{{ char | uppercase }}</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</body>
</html>